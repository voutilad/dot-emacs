#+TITLE: Java
#+AUTHOR: Dave Voutila
#+EMAIL: voutilad@gmail.com

* Java Mode
  Just some basic settings, mostly formatting settings.

  #+BEGIN_SRC emacs-lisp
    ; via https://www.emacswiki.org/emacs/IndentingJava
    (add-hook 'java-mode-hook
              (lambda ()
                (setq c-basic-offset 4
                      tab-width 4
                      indent-tabs-mode t)))
  #+END_SRC

* Groovy Mode
  For now let's just consider this Java related since it sort of is
  for all intents and purposes. I typically only write Groovy in
  relation to Gradle.

  #+BEGIN_SRC emacs-lisp
    (use-package groovy-mode :ensure t)
  #+END_SRC

* Eclipse JDT Language Server
  Given all the work on LSP-based approaches to language support, I
  figured I'd try to approach an Eclipse-like experience in Emacs
  using =java-lsp=.

  #+BEGIN_SRC emacs-lisp
    ; First the dependencies
    (use-package projectile :ensure t)
    (use-package yasnippet :ensure t)
    (use-package lsp-mode :ensure t)
    (use-package hydra :ensure t)
    (use-package company-lsp :ensure t)
    (use-package lsp-ui
      :ensure t
      :init
      (setq lsp-ui-doc-enable nil))

    (use-package lsp-java
      :ensure t
      :init
      (add-hook 'java-mode-hook #'lsp))

    (use-package dap-mode
      :ensure t :after lsp-mode
      :config
      (dap-mode t)
      (dap-ui-mode t))

    (use-package dap-java :after (lsp-java))
  #+END_SRC

* The Futile Fight
  Java outside of a Java-centric IDE (i.e. /IntelliJ/) is a royal pain
  in the butt. This is a futile attempt to make it less so.

** jtags
   Let's take =jtags= for a spin. No idea if it'll work.

   /Disable this for now -- 24 Aug 2019/

   #+BEGIN_SRC emacs-lisp
     ;; (use-package jtags
     ;;   :ensure t
     ;;   :init (add-hook 'java-mode-hook 'jtags-mode))
   #+END_SRC
